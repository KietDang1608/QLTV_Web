<!doctype html>
<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

<div>List Thiết Bị</div>
<form th:action="@{/QLThietBi/searchTB}" method="post">
    Loại TB:
    <select id="cbtenTB" name="cbtenTB">
        <!-- Lặp qua danh sách các thành phố -->
        <option th:value="0" th:text="All" ></option>
        <option th:value="1" th:text="micro" ></option>
        <option th:value="2" th:text="máy_chiếu" ></option>
        <option th:value="3" th:text="máy_ảnh" ></option>
        <option th:value="4" th:text="cassette"></option>
        <option th:value="5" th:text="tivi"></option>
        <option th:value="6" th:text="quạt_đứng"></option>
    </select>

    Mô tả:
    <input type="text" name="mota"/>
    <button type="submit">Lọc</button>
</form>
<br>
<form th:action="@{/QLDatCho/searchTBbyName}" method="post">
	Search:
	<input type="text" name="search"/>
	<button type="submit">Tìm</button>
</form>
<form th:action="@{/QLDatCho/refresh}" method="post">
	<button type="submit">Refresh</button>
</form>
<br>

<div>List Thiet Bi</div>

<table border="1">
    <tr>
        <th>MaTb</th>
        <th>TenTB</th>
        <th>MotaTB</th>
        <th>Xử lý</th>
    </tr>
    <tr th:each ="row : ${data}">
        <td th:utext="${row.maTB}">...</td>
        <td th:utext="${row.tenTB}">...</td>
        <td th:utext="${row.moTa}">...</td>
        <td >
            <form action="#" th:object="${data}" th:action="@{muon}" method="POST">
                <input type="hidden" name="maTB" th:value="${row.maTB}" />
                <input type="hidden" name="maTV" th:value="${param.maTV}" />
                <input type="submit" value="Mượn" th:href="${rowStat.index}" >
            </form>
        </td>
        <td>
            <form action="#" th:object="${data}" th:action="@{tra}" method="POST">
                <input type="hidden" name="maTB" th:value="${row.maTB}" />
                <input type="hidden" name="maTV" th:value="${param.maTV}" />
                <input type="submit" value="Trả" th:href="${rowStat.index}" >
            </form>
        </td>
        <td>
            <form action="#" th:object="${data}" th:action="@{datcho}" method="POST">
                <input type="hidden" name="maTB" th:value="${row.maTB}" />
                <input type="hidden" name="maTV" th:value="${param.maTV}" />
                <input type="submit" value="Đặt Chỗ" th:href="${rowStat.index}" >
            </form>
        </td>
    </tr>
</table>

<table border="1">
    <tr>
        <th>MaTb</th>
        <th>Thời Gian Cho Mượn </th>
        <th>Thời Gian Cho Trả</th>
        <th>Thời Gian Đặt Chỗ</th>

    </tr>
    <tr th:each ="row : ${data}">
        <td th:utext="${row.maTB}">...</td>
        <td th:utext="${row.tenTB}">...</td>
        <td th:utext="${row.moTa}">...</td>
    </tr>
</table>

    <script th:inline="javascript">
        function updateSelectedItems() {
            var selectedItems = [];
            var checkboxes = document.querySelectorAll('input[name="selectedItems"]:checked');
            checkboxes.forEach(function(checkbox) {
                selectedItems.push(checkbox.value);
            });
            var selectedItemsField = document.getElementById('selectedItems');
            if (selectedItems.length > 0) {
                selectedItemsField.value = selectedItems.join(',');
            } else {
                alert("Please select at least one item.");
                return false; // Ngăn form được gửi đi
            }
            console.log(selectedItems);
        }
    </script>

    </tr>
</table>

</body>
</html>